global{
    dq a = 5;
}

struct MyStruct {
    dq field1;
    dq field2;
    db field3;
}

func test(dq aa){
    MyStruct structName2 = aa;
    printHex(structName2.field1);
    printHex(*structName2.field2);
    printHex(structName2.field3);
    return;
}



func main(){

    MyStruct structName = MyStruct{1,2,3};

    structName.field1++;
    structName.field1--;
    structName.field2++;
    structName.field3++;


    structName.field1 += 5;
    structName.field2 += 5;
    structName.field3 += 5;

    printHex(structName);
    printHex(structName[0]);
    printHex(structName.field1);
    printHex(structName.field2);
    printHex(structName.field3);

    structName.field1 = 10;
    structName.field2 = 11;
    structName.field3 = 12;

    dq testpls = &structName.field1;

    dq testpls2 = 5;
    structName.field2 = &testpls2;

    printHex(*testpls);
    printHex(*structName.field2);
    printHex(structName.field3);

    if structName.field3 == 12 {
        printHex(0xff00ff);
    }

    if *structName.field2 == 5 {
        printHex(0xff00ff);
    }

    printHex(structName);
    test(structName);


    dq arr = dq{structName, structName.field1, *structName.field2, structName.field3};

    printHex(arr);
    printHex(arr[0]);
    printHex(arr[1*8]);
    printHex(*arr[2*8]);
    printHex(arr[3*8]);

    return;
}
