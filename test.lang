
global{
}

func getStringLen(ptr s1){
	dd res = 0;
	while s1[res] != 0 {
		res++;
	}
	return res;
}

func print(ptr s1){
	dd len = getStringLen(s1);
	asm(mov64_r_i, rax, 1);
	asm(mov64_r_i, rdi, 1);
	loadReg(rsi, s1);
	loadReg(rdx, len);
	asm(syscall);
	return;
}


func main() {
	ptr stringMem = db<200>;

	read(stringMem, 200);
	reverseString(stringMem);
	print(stringMem);

	dq a<dq> = dq{1,2};
	printHex(a[0]);
	printHex(a[1]);

	dq temp;

	temp = a[0];
	a[0] = a[1];
	a[1] = temp + a[0] + &temp - &temp + ((5+5)+(2*3));

	printHex(a[0]);
	printHex(a[1]);

	return;
}