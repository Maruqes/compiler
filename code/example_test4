include "includes/strings"
include "includes/floats"
include "includes/arrays"


func main(){
	printString(CString("Hello World!\n"));


    dd resultString = allocMemPage(1);
    dd resultString2 = allocMemPage(1);
    dd print1 = CString("\n");
    dd print2 = CString("Allocated memory\n");
    dd print3 = CString("Freeing memory\n");
	
    //com sleep falhou no 2094341
    //sem sleep falhou no 2093765
    for dd i = 0; i < 2999999; i++;{
      
        // sleep(0, 100000);
        // printString(print2);
        dd mmPage = allocMemPage(1);
        if mmPage = -1 {
            printString(CString("ERRO: mmap devolveu -1\n"));
            return 0;
        }

        convertNumberToString(i, resultString);
        printString(resultString);
        printString(print1);
        convertNumberToString(mmPage, resultString2);
        printString(resultString2);
        printString(print1);
        printString(print1);
        
        setDDArrayValue(mmPage, 0, 123456);
        freeMemPage(mmPage, 1);
        // printString(print3);
    }
	printString(CString("End of tests!\n"));
	return 0;
}